import{k as h,r as i,l as g,j as e,A as u,m as o,N as f,L as d,B as x,C as j,b as N,d as p,e as y,f as C,g as b,i as w}from"./index-Cv8_xXqY.js";import{A as v,C as A}from"./calendar-BraVFBcE.js";const S=()=>{const{categoryId:l}=h(),[n,m]=i.useState(null),[t,c]=i.useState(null);return i.useEffect(()=>{window.scrollTo(0,0),m(g)},[]),i.useEffect(()=>{if(n&&l){let a=n.categories.find(s=>s.id===l);if(a){const s=a.indexUrl;s&&fetch(s).then(r=>r.text()).then(r=>{try{a.children=JSON.parse(r).children||[]}catch{a.children=[]}c(a||null)}).catch(r=>console.error("Error fetching category content:",r))}else c(a||null)}},[n,l]),t?e.jsx(u,{children:e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"min-h-screen bg-background text-foreground relative",children:[e.jsx(f,{}),e.jsx("main",{children:e.jsx("section",{className:"py-20 px-4 mt-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx(d,{to:"/blogs",children:e.jsxs(x,{variant:"ghost",className:"gap-2",children:[e.jsx(v,{className:"h-4 w-4"})," Back to All Categories"]})})}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:t.title}),e.jsx("p",{className:"text-xl text-muted-foreground",children:t.description})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.children.map((a,s)=>e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:s*.1},children:e.jsxs(j,{className:"h-full flex flex-col hover:shadow-md transition-shadow",children:[e.jsxs(N,{children:[e.jsx(p,{children:a.title}),e.jsxs(y,{className:"flex items-center gap-2 mt-2",children:[e.jsx(A,{className:"h-4 w-4"}),new Date(a.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsx(C,{className:"flex-grow",children:e.jsx("p",{className:"text-muted-foreground",children:a.description})}),e.jsx(b,{children:e.jsx(d,{to:`/blogs/${t.id}/${a.id}`,className:"w-full",children:e.jsx(x,{variant:"outline",className:"w-full",children:"Read Article"})})})]})},a.id))})]})})}),e.jsx(w,{})]})}):null};export{S as default};
